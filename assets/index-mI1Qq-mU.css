:root{--bg: #020617;--bg-gradient: radial-gradient(circle at top left, #1d2438 0, #020617 45%, #000 100%);--glass: rgba(15, 23, 42, .78);--accent: #6366f1;--accent-soft: rgba(99, 102, 241, .5);--accent-strong: #a855f7;--text: #e5e7eb;--muted: #9ca3af;--border: rgba(148, 163, 184, .3);--danger: #ef4444;--success: #22c55e;--key1: #22c55e;--key2: #facc15;--key3: #fb7185;--door: #f97316;--knight: #38bdf8;--radius-lg: 20px;--radius-sm: 10px;--shadow-soft: 0 24px 60px rgba(15, 23, 42, .95);--shadow-chip: 0 10px 24px rgba(15, 23, 42, .8);--font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif}*,*:before,*:after{box-sizing:border-box}html,body{margin:0;height:100%}body{font-family:var(--font-sans);background:var(--bg-gradient);color:var(--text)}.app-root{min-height:100vh;display:flex;flex-direction:column}.app-header{padding:16px 32px 12px;border-bottom:1px solid rgba(148,163,184,.25);background:linear-gradient(135deg,#0f172af5,#18182deb);-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);display:flex;align-items:center;justify-content:space-between;gap:16px}.app-header h1{margin:0 0 4px;font-size:1.9rem;letter-spacing:.08em;text-transform:uppercase}.app-header p{margin:0;font-size:.9rem;color:var(--muted)}.badge{padding:6px 12px;border-radius:999px;border:1px solid rgba(148,163,184,.45);font-size:.75rem;color:var(--muted);background:radial-gradient(circle at top,rgba(148,163,184,.25),transparent)}.app-main{display:grid;grid-template-columns:280px minmax(420px,1.1fr) 320px;gap:18px;padding:18px 22px 10px}.glass{background:radial-gradient(circle at top left,rgba(148,163,184,.12),transparent),var(--glass);border-radius:var(--radius-lg);border:1px solid var(--border);box-shadow:var(--shadow-soft)}.side-panel{padding:14px 16px 18px;display:flex;flex-direction:column;gap:10px}.side-panel h2{margin:0;font-size:1.15rem}.side-panel h3{margin:6px 0 4px;font-size:.9rem;color:var(--muted)}.hint{margin:2px 0 4px;font-size:.75rem;color:var(--muted)}.board-panel{display:flex;align-items:center;justify-content:center;padding:14px}.board-shell{display:flex;flex-direction:column;gap:10px;align-items:center}.board{display:grid;grid-template-columns:repeat(8,68px);grid-template-rows:repeat(8,68px);border-radius:24px;overflow:hidden;box-shadow:0 28px 70px #000000d9;border:1px solid rgba(15,23,42,.9)}.cell{position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform .12s ease-out,box-shadow .12s ease-out,background .12s ease-out}.cell.light{background:#f0d9b5}.cell.dark{background:#b58863}.cell:hover{transform:translateY(-1px);box-shadow:inset 0 0 0 2px #f8fafcd9}.coord{position:absolute;bottom:4px;right:6px;font-size:9px;color:#1e40afd9}.piece{display:inline-flex;align-items:center;gap:4px;padding:6px 10px;border-radius:999px;font-weight:600;font-size:1.1rem;color:#f9fafb;box-shadow:0 0 0 1px #0f172a99,var(--shadow-chip)}.piece-icon{font-size:1.25rem;line-height:1}.piece-knight{background:radial-gradient(circle at 20% 0,#38bdf8,#2563eb)}.piece-key{padding-inline:10px}.piece-key.key-1{background:radial-gradient(circle at 0 0,#22c55ee6,#15803d)}.piece-key.key-2{background:radial-gradient(circle at 0 0,#eab308e6,#a16207)}.piece-key.key-3{background:radial-gradient(circle at 0 0,#f87171e6,#b91c1c)}.piece-key.key-chosen{box-shadow:0 0 0 2px #f8fafcd9,0 0 18px #fde047cc}.piece-tag{font-size:.7rem;text-transform:uppercase;letter-spacing:.05em}.piece-door{background:radial-gradient(circle at 0 0,#fed7aa,#ea580c)}.board-legend{margin-top:4px;display:flex;flex-wrap:wrap;gap:6px 16px;font-size:.78rem;color:var(--muted)}.legend-item{display:flex;align-items:center;gap:6px}.legend-swatch{display:inline-flex;align-items:center;justify-content:center;padding:3px 8px;border-radius:999px;font-size:.8rem;background:#0f172acc;border:1px solid rgba(148,163,184,.4);color:#e5e7eb}.legend-knight{border-color:var(--knight)}.legend-key1{border-color:var(--key1)}.legend-key2{border-color:var(--key2)}.legend-key3{border-color:var(--key3)}.legend-door{border-color:var(--door)}.chip-group{display:flex;flex-wrap:wrap;gap:6px}.chip{border-radius:999px;border:1px solid rgba(148,163,184,.4);padding:4px 11px;font-size:.78rem;background:#0f172a80;color:var(--muted);cursor:pointer;transition:background .14s ease,color .14s ease,box-shadow .14s ease,transform 80ms ease}.chip-active{border-color:var(--accent);color:#e5e7eb;background:radial-gradient(circle at top,rgba(56,189,248,.18),transparent);box-shadow:0 14px 28px #38bdf859;transform:translateY(-1px)}.chip-preset{font-size:.74rem}.btn{border-radius:999px;border:1px solid rgba(148,163,184,.45);background:#161b30e6;color:var(--text);padding:6px 11px;font-size:.8rem;cursor:pointer;transition:background .12s ease,transform .12s ease,box-shadow .12s ease,border-color .12s ease}.btn.full{width:100%;justify-content:center}.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-strong));border-color:transparent;color:#f9fafb;box-shadow:0 16px 36px #5850ecb3}.btn.ghost{background:#0f172aa6}.btn.tiny{padding:4px 8px;font-size:.74rem}.btn:hover{transform:translateY(-1px);box-shadow:0 12px 28px #0f172ae6;border-color:#94a3b8b3}.button-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.field{display:flex;flex-direction:column;gap:4px;font-size:.78rem;margin-top:8px}.field span{color:var(--muted)}.field select,.field input[type=number],.field input[type=text]{background:#020617;border-radius:999px;border:1px solid rgba(148,163,184,.55);padding:5px 9px;color:var(--text);font-size:.8rem}.field input[type=range]{width:100%}.log-area{width:100%;min-height:170px;max-height:210px;resize:vertical;border-radius:var(--radius-sm);border:1px solid rgba(15,23,42,.9);background:#020617;padding:7px 9px;font-size:.74rem;font-family:JetBrains Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;color:#e5e7eb}.stats{margin-top:8px;display:grid;gap:4px;font-size:.8rem}.stats>div{display:flex;justify-content:space-between;color:var(--muted)}.stats-label{color:#9ca3af}.feedback{font-size:.8rem;color:#e5e7eb}.opt-yes{color:var(--success);font-weight:600}.opt-no{color:var(--danger);font-weight:500}.coord-card{margin-top:10px;padding:8px 9px;border-radius:var(--radius-sm);border:1px dashed rgba(148,163,184,.4);background:#0f172abf}.coord-row{display:flex;gap:6px;margin-top:4px}.coord-row input{flex:1;background:#020617;border-radius:999px;border:1px solid rgba(148,163,184,.5);padding:3px 7px;color:var(--text);font-size:.78rem}.comparison-panel{padding:10px 22px 18px}.comparison-panel h2{margin:0 0 6px;font-size:1rem}.comparison-table{width:100%;border-collapse:collapse;font-size:.8rem;background:#0f172af2;border-radius:var(--radius-lg);overflow:hidden;border:1px solid rgba(30,64,175,.5)}.comparison-table th,.comparison-table td{padding:6px 10px;text-align:left}.comparison-table thead{background:linear-gradient(135deg,#1e40afd9,#4f46e5e6)}.comparison-table th{font-weight:600;color:#e5e7eb}.comparison-table tbody tr:nth-child(2n){background:#0f172ae6}.comparison-table tbody tr:nth-child(odd){background:#111827e6}.comparison-table tbody tr:hover{background:#1e40af66}.comparison-empty{margin:6px 0 0;font-size:.8rem;color:var(--muted)}@media(max-width:1120px){.app-main{grid-template-columns:1fr}.board-panel{order:-1}}
